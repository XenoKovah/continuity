<h1>Tethering Source Message</h1>

<p> The Tethering Source Continuity message is broadcast in response to a
Tethering Target message generated by another device (typically a MacBook)
linked to the same iCloud account as the iPhone or iPad that is to be used as a
hotspot. The Tethering Source message contains information pertaining to the
battery life, and type and quality of cellular service the hotspot device
has. Some of this information is listed in the "available WiFi networks" listed
on the Tethering Target device when searching for the hotspot.</p>

<div align="center">
<img src="/figs/tethering_source_format.png">
</div>

## Tethering Source (Instant Hotspot) Message (btcommon.apple.type == 0x0e)
| Field Name                                  | Info                         | Example                   |Length| Type  | Notes                            |
| :-------------------------------------------| :----------------------------|:--------------------------|:----:|:-----:|:--------------------------------:|
| btcommon.apple.tethsrc.version              | Version                      |     01                    |  1   | Bytes |Note sure what this pertains to   |
| btcommon.apple.tethsrc.flags                | Flags                        |     00                    |  1   | Bytes |Note sure what these flags mean   |
| btcommon.apple.tethsrc.battery              | Battery Life (%)             |     87                    |  1   | UINT8 |                                  |
| btcommon.apple.tethsrc.celltype             | Cellular Connection Type     |     LTE (7)               |  2   | UINT8 |                                  |
| btcommon.apple.tethsrc.cellbars             | Cell Service Quality (Bars)  |     5                     |  1   | UINT8 |                                  |


<p>The message fields, observed values and their meaning:</p>

<ul>
<li>
Type: 1 byte, 0x0E -- indicates a Tethering Source message
</li>
<li>
Length: 1 byte, 0x06 -- number of bytes in the message payload
</li>
<li>
Version: 1 byte, variable -- Not sure what this version pertains to
</li>
<li>
Flags: 1 byte, variable -- Not sure what these flags mean
 </li>
<li>
Battery life: 1 byte, 0x0-0x64 -- Tethering Source battery percentage 
</li>
<li>
Data: 1 byte, variable -- unknown
</li>
<li>
Cell service type: 1 byte
  <ul>
    <li>
        0 -- 4G (GSM)
    </li>
    <li>
        1 -- 1xRTT
    </li>
    <li>
        2 -- GPRS
    </li>
    <li>
        3 -- EDGE
    </li>
    <li>
        4 -- 3G (EV-DO)
    </li>
    <li>
        5 -- 3G
    </li>
    <li>
        6 -- 4G
    </li>
    <li>
        7 -- LTE
    </li>
  </ul>
</li>
<li>
Cellular service strength: 1 byte, 0-4 -- number of "bars" of cellular signal
the Tethering Source currently has
</li>
</ul>
